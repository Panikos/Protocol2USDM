[2025-06-30 21:20:59] [INFO] Processing 3 images in batches of 2 with 4 workers.
[2025-06-30 21:20:59] [INFO] Processing 2 images with model 'gpt-4o'.
[2025-06-30 21:20:59] [INFO] Processing 1 images with model 'gpt-4o'.
[2025-06-30 21:22:09] [DEBUG] Raw LLM output: {
    "study": {
        "versions": [
            {
                "timeline": {
                    "plannedTimepoints": [
                        {
                            "id": "tp1",
                            "name": "Visit 9",
                            "description": "Week 12"
                        },
                        {
                            "id": "tp2",
                            "name": "Visit 10",
                            "description": "Week 16"
                        },
                        {
                            "id": "tp3",
                            "name": "Visit 11",
                            "description": "Week 20"
                        },
                        {
                            "id": "tp4",
                            "name": "Visit 12",
                            "description": "Week 24"
                        },
                        {
                            "id": "tp5",
                            "name": "Visit 13",
                            "description": "Week 26"
                        },
                        {
                            "id": "tp6",
                            "name": "ET",
                            "description": "Early Termination"
                        },
                        {
                            "id": "tp7",
                            "name": "RT",
                            "description": "Retrieval"
                        }
                    ],
                    "activities": [
                        {
                            "id": "act1",
                            "name": "Vital signs/Temperature"
                        },
                        {
                            "id": "act2",
                            "name": "ECG"
                        },
                        {
                            "id": "act3",
                            "name": "Concomitant Medications"
                        },
                        {
                            "id": "act4",
                            "name": "Laboratory (Chem/Hemat)"
                        },
                        {
                            "id": "act5",
                            "name": "Laboratory (Urinalysis)"
                        },
                        {
                            "id": "act6",
                            "name": "Plasma Specimen (Xanomeline)"
                        },
                        {
                            "id": "act7",
                            "name": "Study drug record"
                        },
                        {
                            "id": "act8",
                            "name": "ADAS-Cog"
                        },
                        {
                            "id": "act9",
                            "name": "CIBIC+"
                        },
                        {
                            "id": "act10",
                            "name": "DAD"
                        },
                        {
                            "id": "act11",
                            "name": "NPI-X"
                        },
                        {
                            "id": "act12",
                            "name": "Adverse events"
                        }
                    ],
                    "activityGroups": [],
                    "activityTimepoints": [
                        {
                            "activityId": "act1",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act1",
                            "timepointId": "tp2"
                        },
                        {
                            "activityId": "act1",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act1",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act1",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act1",
                            "timepointId": "tp6"
                        },
                        {
                            "activityId": "act1",
                            "timepointId": "tp7"
                        },
                        {
                            "activityId": "act2",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act2",
                            "timepointId": "tp2"
                        },
                        {
                            "activityId": "act2",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act2",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act2",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act2",
                            "timepointId": "tp6"
                        },
                        {
                            "activityId": "act2",
                            "timepointId": "tp7"
                        },
                        {
                            "activityId": "act3",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act3",
                            "timepointId": "tp2"
                        },
                        {
                            "activityId": "act3",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act3",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act3",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act3",
                            "timepointId": "tp6"
                        },
                        {
                            "activityId": "act3",
                            "timepointId": "tp7"
                        },
                        {
                            "activityId": "act4",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act4",
                            "timepointId": "tp2"
                        },
                        {
                            "activityId": "act4",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act4",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act4",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act4",
                            "timepointId": "tp6"
                        },
                        {
                            "activityId": "act4",
                            "timepointId": "tp7"
                        },
                        {
                            "activityId": "act5",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act5",
                            "timepointId": "tp2"
                        },
                        {
                            "activityId": "act5",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act5",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act5",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act5",
                            "timepointId": "tp6"
                        },
                        {
                            "activityId": "act5",
                            "timepointId": "tp7"
                        },
                        {
                            "activityId": "act6",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act6",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act6",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act7",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act7",
                            "timepointId": "tp2"
                        },
                        {
                            "activityId": "act7",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act7",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act7",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act8",
                            "timepointId": "tp2"
                        },
                        {
                            "activityId": "act8",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act8",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act9",
                            "timepointId": "tp2"
                        },
                        {
                            "activityId": "act9",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act9",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act10",
                            "timepointId": "tp2"
                        },
                        {
                            "activityId": "act10",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act10",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act11",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act11",
                            "timepointId": "tp2"
                        },
                        {
                            "activityId": "act11",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act11",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act11",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act11",
                            "timepointId": "tp6"
                        },
                        {
                            "activityId": "act11",
                            "timepointId": "tp7"
                        },
                        {
                            "activityId": "act12",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act12",
                            "timepointId": "tp2"
                        },
                        {
                            "activityId": "act12",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act12",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act12",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act12",
                            "timepointId": "tp6"
                        },
                        {
                            "activityId": "act12",
                            "timepointId": "tp7"
                        }
                    ]
                }
            }
        ]
    },
    "usdmVersion": "4.0.0"
}
[2025-06-30 21:22:09] [INFO] [SUCCESS] Extracted SoA from batch of 1 images.
[2025-06-30 21:22:35] [DEBUG] Raw LLM output: {
    "study": {
        "versions": [
            {
                "timeline": {
                    "plannedTimepoints": [
                        {
                            "id": "tp1",
                            "name": "Visit 1",
                            "timepoint": "-2 weeks"
                        },
                        {
                            "id": "tp2",
                            "name": "Visit 2",
                            "timepoint": "-0.3 weeks"
                        },
                        {
                            "id": "tp3",
                            "name": "Visit 3",
                            "timepoint": "0 weeks"
                        },
                        {
                            "id": "tp4",
                            "name": "Visit 4",
                            "timepoint": "2 weeks"
                        },
                        {
                            "id": "tp5",
                            "name": "Visit 5",
                            "timepoint": "4 weeks"
                        },
                        {
                            "id": "tp6",
                            "name": "Visit 7",
                            "timepoint": "6 weeks"
                        },
                        {
                            "id": "tp7",
                            "name": "Visit 8",
                            "timepoint": "8 weeks"
                        }
                    ],
                    "activities": [
                        {
                            "id": "act1",
                            "name": "Informed consent"
                        },
                        {
                            "id": "act2",
                            "name": "Patient number assigned"
                        },
                        {
                            "id": "act3",
                            "name": "Hachinski <4"
                        },
                        {
                            "id": "act4",
                            "name": "MMSE 10-23"
                        },
                        {
                            "id": "act5",
                            "name": "Physical examination"
                        },
                        {
                            "id": "act6",
                            "name": "Medical History"
                        },
                        {
                            "id": "act7",
                            "name": "Habits"
                        },
                        {
                            "id": "act8",
                            "name": "Chest x-ray"
                        },
                        {
                            "id": "act9",
                            "name": "Apo E genotyping"
                        },
                        {
                            "id": "act10",
                            "name": "Patient randomized"
                        },
                        {
                            "id": "act11",
                            "name": "Vital signs/Temperature"
                        },
                        {
                            "id": "act12",
                            "name": "Ambulatory ECG placed"
                        },
                        {
                            "id": "act13",
                            "name": "Ambulatory ECG removed"
                        },
                        {
                            "id": "act14",
                            "name": "ECG"
                        },
                        {
                            "id": "act15",
                            "name": "Placebo TTS test"
                        },
                        {
                            "id": "act16",
                            "name": "CT Scan"
                        },
                        {
                            "id": "act17",
                            "name": "Concomitant Medications"
                        },
                        {
                            "id": "act18",
                            "name": "Laboratory (Chem/Hemat)"
                        },
                        {
                            "id": "act19",
                            "name": "Laboratory (Urinalysis)"
                        },
                        {
                            "id": "act20",
                            "name": "Plasma Specimen (Xanomeline)"
                        },
                        {
                            "id": "act21",
                            "name": "Hemoglobin A1C"
                        },
                        {
                            "id": "act22",
                            "name": "Study drug record"
                        },
                        {
                            "id": "act23",
                            "name": "Medications dispensed"
                        },
                        {
                            "id": "act24",
                            "name": "Medications returned"
                        },
                        {
                            "id": "act25",
                            "name": "TTS Acceptability Survey"
                        },
                        {
                            "id": "act26",
                            "name": "ADAS-Cog"
                        },
                        {
                            "id": "act27",
                            "name": "CIBIC+"
                        },
                        {
                            "id": "act28",
                            "name": "DAD"
                        },
                        {
                            "id": "act29",
                            "name": "NPI-X"
                        },
                        {
                            "id": "act30",
                            "name": "Adverse events"
                        }
                    ],
                    "activityGroups": [],
                    "activityTimepoints": [
                        {
                            "activityId": "act1",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act2",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act3",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act4",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act5",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act6",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act7",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act8",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act9",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act10",
                            "timepointId": "tp2"
                        },
                        {
                            "activityId": "act11",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act11",
                            "timepointId": "tp2"
                        },
                        {
                            "activityId": "act11",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act11",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act11",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act11",
                            "timepointId": "tp6"
                        },
                        {
                            "activityId": "act11",
                            "timepointId": "tp7"
                        },
                        {
                            "activityId": "act12",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act13",
                            "timepointId": "tp7"
                        },
                        {
                            "activityId": "act14",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act14",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act14",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act14",
                            "timepointId": "tp6"
                        },
                        {
                            "activityId": "act14",
                            "timepointId": "tp7"
                        },
                        {
                            "activityId": "act15",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act16",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act17",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act17",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act17",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act17",
                            "timepointId": "tp6"
                        },
                        {
                            "activityId": "act17",
                            "timepointId": "tp7"
                        },
                        {
                            "activityId": "act18",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act18",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act18",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act18",
                            "timepointId": "tp7"
                        },
                        {
                            "activityId": "act19",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act19",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act19",
                            "timepointId": "tp7"
                        },
                        {
                            "activityId": "act20",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act20",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act20",
                            "timepointId": "tp7"
                        },
                        {
                            "activityId": "act21",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act22",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act22",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act22",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act22",
                            "timepointId": "tp6"
                        },
                        {
                            "activityId": "act23",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act24",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act25",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act26",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act26",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act26",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act27",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act27",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act27",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act28",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act28",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act28",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act29",
                            "timepointId": "tp1"
                        },
                        {
                            "activityId": "act29",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act29",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act30",
                            "timepointId": "tp3"
                        },
                        {
                            "activityId": "act30",
                            "timepointId": "tp4"
                        },
                        {
                            "activityId": "act30",
                            "timepointId": "tp5"
                        },
                        {
                            "activityId": "act30",
                            "timepointId": "tp6"
                        },
                        {
                            "activityId": "act30",
                            "timepointId": "tp7"
                        }
                    ]
                }
            }
        ]
    },
    "usdmVersion": "4.0.0"
}
[2025-06-30 21:22:35] [INFO] [SUCCESS] Extracted SoA from batch of 2 images.
[2025-06-30 21:22:35] [INFO] Successfully extracted SoA data from 2 batches. Merging...
[2025-06-30 21:22:35] [INFO] Wrote merged SoA vision output to STEP2_soa_vision.json
